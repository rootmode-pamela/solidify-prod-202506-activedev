<template>
       
<header class="slds-media slds-media_center slds-has-flexi-truncate slds-p-horizontal_large">
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </template>
    
    <div class="slds-media__figure">
        <lightning-icon icon-name="custom:custom64" title="Most Recent Closing on Subject" size="small" ></lightning-icon>
    </div>
    <div class="slds-media__body">
        <h2 class="slds-card__header-title">
            <p>Most Recent Closing on Subject</p>
        </h2>
    </div>
</header>

<lightning-record-view-form record-id={recordId} 
                            object-api-name={object} 
                            onsuccess={handleSuccess}>
    <lightning-messages></lightning-messages>
    <div class="slds-grid slds-p-top_small">
        <div class="slds-col slds-size_1-of-3 slds-p-horizontal_large">
            <lightning-output-field field-name="Most_Recent_Closed_Opportunity__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Loan_Originator_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Purpose_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Occupancy_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Property_Type__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Number_of_Units__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Purchase_Price_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
        </div>
        <div class="slds-col slds-size_1-of-3 slds-p-horizontal_large">
            <lightning-output-field field-name="Appraised_Value_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="CLTV_of_Most_Recent_Closed_Loan__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="LTV_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Lender_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Days_Since_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Loan_Amt_with_MIP_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Rate_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Loan_Program_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
        </div>
            <div class="slds-col slds-size_1-of-3 slds-p-horizontal_large">
            <lightning-output-field field-name="P_I_of_Most_Recent_Closed_Loan__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="PITI_of_Most_Recent_Closed_Loan__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="First_Payment_Most_Recent_Closed_Loan__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Scheduled_Balance_of_Most_Recent_Closing__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Escrows_Waived_Most_Recent_Closed_Loan__c" onchange={fieldChanged}></lightning-output-field>
            <lightning-output-field field-name="Qual_Fico__c" onchange={fieldChanged}></lightning-output-field>
        </div>
    </div>
    <template if:true={fieldsChanged} >
        <div class="slds-grid">
            <div class="slds-col slds-size_1-of-1">
                <div style="padding-left: calc(50% - 30px)">
                    <lightning-button variant="brand"
                                        label="Save"
                                        title="Save"
                                        type="submit"
                    ></lightning-button>
                </div>
            </div>
        </div>
    </template>
</lightning-record-view-form>

</template>