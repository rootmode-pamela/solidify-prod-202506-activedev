<aura:component implements="lightning:recordHomeTemplate" description="4|8 - Right Side Tray - Open">
    <!-- Page Sections -->
    <aura:attribute name="header" type="Aura.Component[]" description="Full-width header." />
    <aura:attribute name="right" type="Aura.Component[]" description="Left Section (Tray)" />
    <aura:attribute name="middle" type="Aura.Component[]" description="Main Section" />
    <!-- Foldable Section Controls -->
    <aura:attribute name="isRightOpen" type="Boolean" default="true" description="Open state of left section." />
    <aura:attribute name="objName" type="String" description="Current Object Name." />
    <!-- Component initialisation -->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"
                  description="Template Initialisation (e.g. sections default fold states)." />
    <!-- Utility Components -->
    <c:PEG_Context_CMP aura:id="contextMgr" />
    <lightning:workspaceAPI aura:id="workspaceAPI" />
    <!-- Component Display -->
    <div class="{! 'slds-container sub-container slds-size_12-of-12'}">
        <!--            <ui:scrollerWrapper class="slds-scrollable_y">
            -->
        <div class="slds-p-right_xx-small slds-m-bottom_medium content-container">
            {!v.header}
        </div>
        <!--            </ui:scrollerWrapper>
    -->
    </div>
    <div class="slds-grid main-container scrollerSize">
        <div class="{!'slds-container sub-container slds-p-horizontal_medium '+ (v.isRightOpen ? 'slds-size_8-of-12' : 'slds-size_12-of-12')}">
            <ui:scrollerWrapper class="slds-scrollable_y">
                <div class="slds-p-horizontal_xx-small slds-m-bottom_xx-small content-container">
                    {!v.middle}
                </div>
            </ui:scrollerWrapper>
        </div>
        <div class="slds-is-relative">
            <div style="z-index: 10; position: absolute; top: 0em; left: -1.1em;"
                 class="slds-theme_shade slds-border-right">
                <lightning:buttonStateful class="buttonSize slds-border_left slds-border_right" variant="text"
                                          state="{!v.isRightOpen}" iconNameWhenOff="utility:chevronleft"
                                          iconNameWhenOn="utility:chevronright" onclick="{!c.handleOpenClose}" aura:id="isRightOpen" />
            </div>
        </div>
        <div class="{!'slds-container sub-container slds-size_4-of-12 '+ (v.isRightOpen ? '': 'hiddenDiv')}">
            <ui:scrollerWrapper class="slds-scrollable_y">
                <div class="slds-p-right_xx-small slds-m-bottom_xx-small content-container">
                    {!v.right}
                </div>
            </ui:scrollerWrapper>
        </div>
    </div>
</aura:component>